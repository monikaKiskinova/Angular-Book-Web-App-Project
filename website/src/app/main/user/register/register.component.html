<div class="register-container">
    <form [formGroup]="form" (ngSubmit)="registerHandler()">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" email required formControlName="email" />

        @if (form.get('email')?.touched) {
        <div class="error">
            @if (form.get('email')?.errors?.['required']) {
            <p class="error">Email is required!</p>
            }
            @if (form.get('email')?.errors?.['email']) {
            <p class="error">Email is not valid!</p>
            }
        </div>
        }
        @if (!form.get('email')?.touched || (!form.get('email')?.errors?.['required'] &&
        !form.get('email')?.errors?.['email'])) {
        <div class="spacer"></div>
        }

        <div formGroupName="passGroup">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required formControlName="password" />

            @if (form.get('passGroup')?.get('password')?.touched) {
            <div class="error">
                @if (form.get('passGroup')?.get('password')?.errors?.['required']) {
                <p class="error">Password is required!</p>
                }
                @if (form.get('passGroup')?.get('password')?.errors?.['minlength']) {
                <p class="error">Password should be at least 6 characters long!</p>
                }
            </div>
            }
            @if (!form.get('passGroup')?.get('password')?.touched ||
            (!form.get('passGroup')?.get('password')?.errors?.['required'] &&
            !form.get('passGroup')?.get('password')?.errors?.['minlength'])) {
            <div class="spacer"></div>
            }

            <label for="rePassword">Repeat password</label>
            <input type="password" id="rePassword" name="rePassword" required formControlName="rePassword" />

            @if (form.get('passGroup')?.get('rePassword')?.touched) {
            <div class="error">
                @if (form.get('passGroup')?.get('rePassword')?.errors?.['required']) {
                <p class="error">Password is required!</p>
                }
                @if (form.get('passGroup')?.get('rePassword')?.errors?.['matchPasswordsValidator']) {
                <p class="error">Passwords don't match!</p>
                }
            </div>
            }
            @if (!form.get('passGroup')?.get('rePassword')?.touched ||
            (!form.get('passGroup')?.get('rePassword')?.errors?.['required'] &&
            !form.get('passGroup')?.get('rePassword')?.errors?.['matchPasswordsValidator'])) {
            <div class="spacer"></div>
            }

        </div>

        <div class="button">
            <button>Register</button>
        </div>
    </form>
    <p>Not your first time here? <a routerLink="/login">Log in</a></p>
</div>